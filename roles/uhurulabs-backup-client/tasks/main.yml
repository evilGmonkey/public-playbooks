---
- name: install bacula client for CentOS systems
  yum:
    name: bacula-client
    state: latest
  when: ansible_distribution == "CentOS"
  
- name: install bacula client for Fedora systems
  yum:
    name: bacula-client
    state: latest
  when: ansible_distribution == "Fedora"
  tasks:
          - template:
                  src: fedora-bacula-fd.conf.j2
                  dest: /etc/bacula/bacula-fd-test.conf
                  owner: root
                  group: root
                  mode: '0644'
  
- name: install bacula client for ubuntu systems
  apt:
    name: bacula-client
    state: latest
  when: ansible_distribution == "Ubuntu"
